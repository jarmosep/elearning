var app=angular.module("eLearning",["ui.router","ngSanitize","ngAnimate"]);app.config(["$stateProvider","$urlRouterProvider",function(a,b){a.state("landing",{url:"/",templateUrl:"templates/landing.html"}).state("dashboard",{url:"/dashboard",abstract:!0,templateUrl:"templates/dashboard.html",controller:"DashboardCtrl"}).state("dashboard.front",{url:"",page:"DashboardFront",templateUrl:"templates/mainviews/frontpage.html"}).state("dashboard.wordbank",{templateUrl:"templates/mainviews/wordbank.html",controller:"AllWordsCtrl"}).state("dashboard.word",{url:"/word",templateUrl:"templates/mainviews/singleword.html",controller:"WordDetailsCtrl",params:{obj:null}}).state("dashboard.assignments",{templateUrl:"templates/mainviews/assignment.html",controller:"AssignmentsCtrl"}).state("dashboard.addword",{templateUrl:"templates/mainviews/addword.html",controller:"WordSubmitCtrl"}).state("dashboard.askteacher",{templateUrl:"templates/mainviews/ask.html"}),b.otherwise("/")}]),app.controller("AllWordsCtrl",["$scope","$rootScope","$timeout","$state",function(a,b,c,d){a.limit=5,a.showMore=function(){a.limit+=5,c(function(){var a=document.getElementById("autoscroll");a.scrollTop=a.scrollHeight},0,!1)},a.go=function(a){console.log(a),d.go("dashboard.word",{obj:a})},a.words=[{japanese:"深い",english:"Deep",reading:"ふかい",tags:["I-adjective","Common"]},{japanese:"ダサい",english:"Lame",reading:"",tags:["I-adjective","Common","Slang"]},{japanese:"行う",english:"To conduct, to carry out",reading:"おこなう",tags:["Verb","Common"]},{japanese:"モバイル最適化",english:"Mobile optimization",reading:"もばいるさいてきか",sentence:"日本のWebサイトと中で、モバイル最適化は新興の技術だと思う。 - I think mobile optimization is a rising technology in Japanese websites.",tags:["Noun","Suru-verb"]},{japanese:"招待",english:"Invitation",reading:"しょうたい",tags:["Noun","No-adjective","Suru-verb"]},{japanese:"行く",english:"To go",reading:"いく",tags:["Verb","Common","Godan-verb"]},{japanese:"全く",english:"Wholly, completely, really",reading:"まったく",tags:["Adverb","No-adjective","Common"]},{japanese:"自殺",english:"Suicide",reading:"じさつ",tags:["Noun","Suru-verb","Common"]},{japanese:"オタク",english:"Geek, nerd, 'enthusiast'",reading:"",tags:["Noun","Common","Colloquialism"]},{japanese:"土方",english:"Construction worker, laborer",reading:"どかた",tags:["Noun","Sensitive"]},{japanese:"めんどくさい",english:"Can't be bothered, troublesome",reading:"",tags:["I-adjective","Common"]}],a.filters=["Noun","Godan-verb","Slang","No-adjective","I-adjective","Sensitive","Verb","Colloquialism","Suru-verb","Adverb"],b.activeFilters=[],a.toggleFilter=function(c,d){var e=angular.element(c.currentTarget),f=b.activeFilters.indexOf(d);f>=0?(b.activeFilters.splice(f,1),e.removeClass("active"),a.updateWords()):(b.activeFilters.push(d),e.addClass("active"),a.updateWords())},a.updateWords=function(){for(var b,c=a.words,d=a.activeFilters.sort(),e=0,f=c.length;e<f;e++){b=c[e].tags.sort();var g=d.every(function(a){return b.indexOf(a)>=0});c[e].visible=g}}}]),app.controller("AssignmentsCtrl",["$scope",function(a){a.assignments=[{title:"Basic Japanese - Quiz 4/8",description:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Necessitatibus ad soluta perspiciatis totam incidunt officiis doloribus!",due:"29.11.2016 18:30",completed:!1,grade:""},{title:"Basic Japanese - Quiz 3/8",description:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Necessitatibus ad soluta perspiciatis totam incidunt officiis doloribus!",due:"22.11.2016 18:30",completed:!0,grade:"A"},{title:"Basic Japanese - Quiz 2/8",description:"Necessitatibus ad soluta perspiciatis totam incidunt officiis doloribus! Lorem ipsum dolor sit amet, consectetur adipisicing elit. ",due:"15.11.2016 18:30",completed:!0,grade:"S"},{title:"Basic Japanese - Quiz 1/8",description:"Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.",due:"15.11.2016 18:30",completed:!0,grade:"S"},{title:"Listening comprehension 1/2",description:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Necessitatibus ad soluta perspiciatis totam incidunt officiis doloribus!",due:"7.11.2016 18:30",completed:!0,grade:"C"}]}]),app.controller("DashboardCtrl",["$scope","$state",function(a,b){a.state=b}]),app.controller("RecentActivityCtrl",["$scope",function(a){a.blocks=[{activity:"くそ食らえ was added to the wordbank",occurance:"30 min ago"},{activity:"帰国憂鬱 was added to the wordbank",occurance:"32 min ago"},{activity:"Teacher returned your assignment",occurance:"3 days ago"}]}]),app.controller("WordDetailsCtrl",["$scope","$state","$stateParams",function(a,b,c){a.word=c.obj;var d=a.word.japanese.split("");a.kanjis=[];for(var e=0;e<d.length;e++)d[e].match(/^[\u4e00-\u9faf]+$/)&&a.kanjis.push(d[e])}]),app.controller("WordSubmitCtrl",["$scope",function(a){a.form={},a.onSubmit=function(){console.log(a.form),a.form=null},a.clearFields=function(){a.form=null}}]),app.directive("activity",function(){return{restrict:"E",scope:{data:"="},templateUrl:"templates/mainviews/partials/frontpage-activity.html"}}),app.directive("assignment",function(){return{restrict:"E",replace:!0,scope:{data:"="},templateUrl:"templates/mainviews/partials/assignment-test.html"}}),app.directive("word",function(){return{restrict:"E",scope:{word:"="},templateUrl:"templates/mainviews/partials/wordbank-wordblock.html"}});